# Домашнее задание к занятию «Типы и структура СУБД» - `Натетков Александр`



### Задание 1. 

Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

1. электронные чеки в json-виде;
2. склады и автомобильные дороги для логистической компании;
3. генеалогические деревья;
4. кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации;
5. отношения клиент-покупка для интернет-магазина.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

### Ответ 1. 

1. NoSQL, например MongoDB или redis, но можно использовать и PostgreSQL, т.к. там есть поддержка json формата.
2. Реляционные СУБД, например MySQL, PostgreSQL и т.д. Они обеспечивают надежное хранение, позволяют выполнять сложные запросы, а с помощью индексирования можно сильно ускорить поиск и сортировку.
3. Графовые, например Neo4j, т.к. подобные БД предназначены как раз для работы с графами.
4. Redis, memcached, быстрое чтение/запись, ограниченный срок жизни записей.
5. Реляционные СУБД, хорошо структурированы, позволяют выполнять сложные запросы.



### Задание 2.

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

1. данные записываются на все узлы с задержкой до часа (асинхронная запись);
2. при сетевых сбоях система может разделиться на 2 раздельных кластера;
3. система может не прислать корректный ответ или сбросить соединение.

Согласно PACELC-теореме как бы вы классифицировали эти реализации?

### Ответ 2. 

1. Если данные записываются на все узлы с задержкой до часа, то это означает, что система может потерять некоторые данные, но она должна быть в состоянии восстановить их в течение часа. В этом случае система соответствует классу AP системы.
2. Если при сетевых сбоях система может разделиться на два раздельных кластера, то система становится двумя отдельными системами. Каждая из них может работать независимо друг от друга, но они не могут обмениваться данными между собой. Это соответствует классу P системы.
3. Если система может не прислать корректный ответ или сбросить соединение, это может произойти в результате сетевых сбоев или ошибок в коде. Это также соответствует классу P системы, так как система может продолжать работу, хотя и с ошибками.

Таким образом, все три реализации соответствуют классу AP системы согласно PACELC теореме.

### Задание 3.

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

### Ответ 3.

Да, в одной системе могут сочетаться принципы BASE и ACID. BASE - это набор принципов, которые обеспечивают высокую доступность и масштабируемость системы при сохранении некоторой степени согласованности данных. ACID - набор принципов, обеспечивающих корректность выполнения транзакций и сохранность данных.

### Задание 4.

Вам дали задачу написать системное решение, основой которого бы послужили:

1. фиксация некоторых значений с временем жизни,
2. реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?

### Ответ 4.

Key-value хранилище - это тип базы данных, который хранит пары ключ-значение. 
Механизм Pub/Sub позволяет публиковать изменения в ключах на определенные темы (подписчиков). Удобный механизм для реализации задач, связанных с временем жизни значений, так как он позволяет автоматически удалять старые значения или выполнять определенные действия при истечении времени жизни значения.

Минусы выбора key-value хранилища с механизмом Pub/Sub могут быть связаны с ограничениями на структуру данных (только пары ключ-значение) и отсутствие возможности выполнения сложных запросов.
